let e,t,n,r,a,i,o,l,u,d,f,c;import"./buildingAnimation.5423aa82.js";var s=globalThis,p={},m={},v=s.parcelRequire1149;null==v&&((v=function(e){if(e in p)return p[e].exports;if(e in m){var t=m[e];delete m[e];var n={id:e,exports:{}};return p[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){m[e]=t},s.parcelRequire1149=v),(0,v.register)("82VHk",function(e,t){Object.defineProperty(e.exports,"default",{get:()=>r,set:void 0,enumerable:!0,configurable:!0});var n=function(){var e=0,t=document.createElement("div");function r(e){return t.appendChild(e.dom),e}function a(n){for(var r=0;r<t.children.length;r++)t.children[r].style.display=r===n?"block":"none";e=n}t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",function(n){n.preventDefault(),a(++e%t.children.length)},!1);var i=(performance||Date).now(),o=i,l=0,u=r(new n.Panel("FPS","#0ff","#002")),d=r(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var f=r(new n.Panel("MB","#f08","#201"));return a(0),{REVISION:16,dom:t,addPanel:r,showPanel:a,begin:function(){i=(performance||Date).now()},end:function(){l++;var e=(performance||Date).now();if(d.update(e-i,200),e>=o+1e3&&(u.update(1e3*l/(e-o),100),o=e,l=0,f)){var t=performance.memory;f.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:t,setMode:a}};n.Panel=function(e,t,n){var r=1/0,a=0,i=Math.round,o=i(window.devicePixelRatio||1),l=80*o,u=48*o,d=3*o,f=2*o,c=3*o,s=15*o,p=74*o,m=30*o,v=document.createElement("canvas");v.width=l,v.height=u,v.style.cssText="width:80px;height:48px";var h=v.getContext("2d");return h.font="bold "+9*o+"px Helvetica,Arial,sans-serif",h.textBaseline="top",h.fillStyle=n,h.fillRect(0,0,l,u),h.fillStyle=t,h.fillText(e,d,f),h.fillRect(c,s,p,m),h.fillStyle=n,h.globalAlpha=.9,h.fillRect(c,s,p,m),{dom:v,update:function(u,w){r=Math.min(r,u),a=Math.max(a,u),h.fillStyle=n,h.globalAlpha=1,h.fillRect(0,0,l,s),h.fillStyle=t,h.fillText(i(u)+" "+e+" ("+i(r)+"-"+i(a)+")",d,f),h.drawImage(v,c+o,s,p-o,m,c,s,p-o,m),h.fillRect(c+p-o,s,o,m),h.fillStyle=n,h.globalAlpha=.9,h.fillRect(c+p-o,s,o,i((1-u/w)*m))}}};var r=n});var h=v("jw0R5"),w=v("2sw9m"),g=v("7DqNw"),x=v("82VHk");let _=(0,v("2Tb7o").getAssetURL)(),b={radius:100,segments:640,factor:5,map:_+"textures/8081_earthmap4k.jpg",bump:_+"textures/8081_earthbump4k.jpg"},S=1/30,y=0;f=window.innerWidth,c=window.innerHeight,(e=new h.WebGLRenderer({antialias:!0})).setSize(f,c),e.setClearColor(1118481,1),document.body.appendChild(e.domElement),(t=new h.PerspectiveCamera(80,f/c,.1,1e4)).position.set(0,200,0),t.up.set(0,1,0),(n=new w.OrbitControls(t,e.domElement)).target=new h.Vector3(0,0,0),a=new h.TextureLoader,new g.GUI().add(b,"factor",0,50).onChange(e=>{o.uniforms.u_factor.value=e}),u=new h.Clock,d=new x.default,document.body.appendChild(d.dom),window.addEventListener("resize",n=>{let r=window.innerWidth,a=window.innerHeight;t.aspect=r/a,t.updateProjectionMatrix(),e.setSize(r,a)}),function(){r=new h.Scene;let e=new h.AmbientLight(0xfefefe),t=new h.DirectionalLight(0xffffff);t.position.set(0,5,0),t.intensity=2,r.add(e),r.add(t);let n={vertexShader:`
                    varying vec4 v_color;
                    varying vec2 v_uv;
                    uniform float u_factor;
                    uniform float u_radius;
                    uniform sampler2D u_bump;
                    void main() {
                        v_color = texture2D(u_bump, uv);
                        v_uv = uv;
                        float height = v_color.r * u_factor;
                        float scale = (u_radius + height) / u_radius;
                        vec3 vposition = position * scale;
                        gl_Position = projectionMatrix * modelViewMatrix * vec4(vposition, 1.0); 
                    }
                `,fragmentShader:`
                    uniform vec3 u_color;
                    varying vec2 v_uv;
                    uniform sampler2D u_map;
                    void main() {
                        gl_FragColor = vec4(u_color, 1.0) * texture2D(u_map, v_uv);
                    }
            `};i=new h.SphereGeometry(b.radius,b.segments,b.segments),o=new h.ShaderMaterial({uniforms:{u_radius:{value:b.radius},u_factor:{type:"f",value:b.factor},u_map:{value:a.load(b.map)},u_bump:{value:a.load(b.bump)},u_color:{value:new h.Color("rgb(255, 255, 255)")}},transparent:!0,vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}),l=new h.Mesh(i,o),r.add(l)}(),function a(){requestAnimationFrame(a);let i=u.getDelta();(y+=i)>S&&(n.update(),d.update(),e.render(r,t)),y%=S}();
//# sourceMappingURL=distortHighMap.6a5f9787.js.map
