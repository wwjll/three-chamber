let e,t,n,r,a,i,o,l,u,d,c,s;import"./buildingAnimation.f3f83e55.js";import"./buildingAnimation.dc0cc84b.js";function f(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var p=globalThis,m={},v={},h=p.parcelRequire1149;null==h&&((h=function(e){if(e in m)return m[e].exports;if(e in v){var t=v[e];delete v[e];var n={id:e,exports:{}};return m[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){v[e]=t},p.parcelRequire1149=h);var w=h.register;w("82VHk",function(e,t){f(e.exports,"default",()=>r);var n=function(){var e=0,t=document.createElement("div");function r(e){return t.appendChild(e.dom),e}function a(n){for(var r=0;r<t.children.length;r++)t.children[r].style.display=r===n?"block":"none";e=n}t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",function(n){n.preventDefault(),a(++e%t.children.length)},!1);var i=(performance||Date).now(),o=i,l=0,u=r(new n.Panel("FPS","#0ff","#002")),d=r(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=r(new n.Panel("MB","#f08","#201"));return a(0),{REVISION:16,dom:t,addPanel:r,showPanel:a,begin:function(){i=(performance||Date).now()},end:function(){l++;var e=(performance||Date).now();if(d.update(e-i,200),e>=o+1e3&&(u.update(1e3*l/(e-o),100),o=e,l=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:t,setMode:a}};n.Panel=function(e,t,n){var r=1/0,a=0,i=Math.round,o=i(window.devicePixelRatio||1),l=80*o,u=48*o,d=3*o,c=2*o,s=3*o,f=15*o,p=74*o,m=30*o,v=document.createElement("canvas");v.width=l,v.height=u,v.style.cssText="width:80px;height:48px";var h=v.getContext("2d");return h.font="bold "+9*o+"px Helvetica,Arial,sans-serif",h.textBaseline="top",h.fillStyle=n,h.fillRect(0,0,l,u),h.fillStyle=t,h.fillText(e,d,c),h.fillRect(s,f,p,m),h.fillStyle=n,h.globalAlpha=.9,h.fillRect(s,f,p,m),{dom:v,update:function(u,w){r=Math.min(r,u),a=Math.max(a,u),h.fillStyle=n,h.globalAlpha=1,h.fillRect(0,0,l,f),h.fillStyle=t,h.fillText(i(u)+" "+e+" ("+i(r)+"-"+i(a)+")",d,c),h.drawImage(v,s+o,f,p-o,m,s,f,p-o,m),h.fillRect(s+p-o,f,o,m),h.fillStyle=n,h.globalAlpha=.9,h.fillRect(s+p-o,f,o,i((1-u/w)*m))}}};var r=n}),w("2Tb7o",function(e,t){f(e.exports,"getAssetURL",()=>n);function n(){let e;return"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:2000/":"https://wwjll.github.io/three-chamber/assets/"}});var g=h("jw0R5"),x=h("2sw9m"),_=h("7DqNw"),b=h("82VHk");let S=(0,h("2Tb7o").getAssetURL)(),y={radius:100,segments:640,factor:5,map:S+"textures/8081_earthmap4k.jpg",bump:S+"textures/8081_earthbump4k.jpg"},R=1/30,C=0;c=window.innerWidth,s=window.innerHeight,(e=new g.WebGLRenderer({antialias:!0})).setSize(c,s),e.setClearColor(1118481,1),document.body.appendChild(e.domElement),(t=new g.PerspectiveCamera(80,c/s,.1,1e4)).position.set(0,200,0),t.up.set(0,1,0),(n=new x.OrbitControls(t,e.domElement)).target=new g.Vector3(0,0,0),a=new g.TextureLoader,new _.GUI().add(y,"factor",0,50).onChange(e=>{o.uniforms.u_factor.value=e}),u=new g.Clock,d=new b.default,document.body.appendChild(d.dom),window.addEventListener("resize",n=>{let r=window.innerWidth,a=window.innerHeight;t.aspect=r/a,t.updateProjectionMatrix(),e.setSize(r,a)}),function(){r=new g.Scene;let e=new g.AmbientLight(0xfefefe),t=new g.DirectionalLight(0xffffff);t.position.set(0,5,0),t.intensity=2,r.add(e),r.add(t);let n={vertexShader:`
                    varying vec4 v_color;
                    varying vec2 v_uv;
                    uniform float u_factor;
                    uniform float u_radius;
                    uniform sampler2D u_bump;
                    void main() {
                        v_color = texture2D(u_bump, uv);
                        v_uv = uv;
                        float height = v_color.r * u_factor;
                        float scale = (u_radius + height) / u_radius;
                        vec3 vposition = position * scale;
                        gl_Position = projectionMatrix * modelViewMatrix * vec4(vposition, 1.0); 
                    }
                `,fragmentShader:`
                    uniform vec3 u_color;
                    varying vec2 v_uv;
                    uniform sampler2D u_map;
                    void main() {
                        gl_FragColor = vec4(u_color, 1.0) * texture2D(u_map, v_uv);
                    }
            `};i=new g.SphereGeometry(y.radius,y.segments,y.segments),o=new g.ShaderMaterial({uniforms:{u_radius:{value:y.radius},u_factor:{type:"f",value:y.factor},u_map:{value:a.load(y.map)},u_bump:{value:a.load(y.bump)},u_color:{value:new g.Color("rgb(255, 255, 255)")}},transparent:!0,vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}),l=new g.Mesh(i,o),r.add(l)}(),function a(){requestAnimationFrame(a);let i=u.getDelta();(C+=i)>R&&(n.update(),d.update(),e.render(r,t)),C%=R}();
//# sourceMappingURL=distortHighMap.6a5f9787.js.map
